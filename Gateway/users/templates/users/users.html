{% extends "base.html" %}

{% block title %}API Gateway{% endblock %}

{% block content %}

<div class="card m-5 shadow mx-auto" style="max-width:1000px">
    <div class="card-body mx-3">
        <h5 class="card-title my-3">All users in Merchy</h5>
        <div class="card-text">
            <table class="table">
                <thead class='table-light'>
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Firstname</th>
                        <th scope="col">Lastname</th>
                        <!-- <th scope="col">Gender</th> -->
                        <th scope="col">Email</th>
                        <th scope="col-5">Roles</th>
                        <th scope="col">Commands</th>
                    </tr>
                </thead>
                <tbody>
                {% for user in users %}

                    <tr>
                        <th scope="row">{{user.id}}</th>
                        <td>{{ user.fname }}</td>
                        <td>{{ user.lname }}</td>
                        <!-- <td>Date of Birth : {{ user.dob }}</td> -->
                        <!-- <td>Gender : {{ user.gender }}</td> -->
                        <td>{{ user.email }} </td>
                        <td>{{ user.get_role_display }} </td>
                        <td class='d-flex'>
                        
                            <button onclick="location.href='{% url 'update_user' user.id %}'" class="btn btn-warning me-3">Update</button>
                            <button onclick="location.href='{% url 'del_user' user.id %}'" class="btn btn-danger">Delete</button>
                            
                        </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table> 
        </div>
        <div class="mt-5 mb-3 d-flex justify-content-center">
            <form action="{% url 'add_user' %}">
                <button type="submit" class="btn btn-primary btn-lg">Add</button>
            </form>
        </div>
    </div>  
</div>

{% endblock %} 